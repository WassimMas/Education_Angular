<div class="section_gap registration_area">
  <div class="container">
    <div class="row d-flex align-items-center justify-content-center">
      <div class="offset-lg-1">
        <div class="register_form">
          <h3>Register Now!</h3>

          <form class="form_area" [formGroup]="signupForm">
            <div class="row">
              <div class="col-lg-12 form_group">
                <input
                  name="firstName"
                  formControlName="firstName"
                  placeholder="firstName"
                  required=""
                  type="text"
                />
                <div
                  *ngIf="
                    signupForm.controls['firstName'].invalid &&
                    (signupForm.controls['firstName'].touched ||
                      signupForm.controls['firstName'].dirty)
                  "
                ></div>

                <div
                  *ngIf="signupForm.controls['firstName'].errors?.['required']"
                >
                  First name is required
                </div>
                <div
                  *ngIf="signupForm.controls['firstName'].errors?.['minlength']"
                >
                  First name must have at least 5 chars
                </div>
                <input
                  formControlName="lastName"
                  name="lastName"
                  placeholder="lastName"
                  required=""
                  type="text"
                />
                <div
                  *ngIf="
                    signupForm.controls['lastName'].invalid &&
                    (signupForm.controls['lastName'].touched ||
                      signupForm.controls['lastName'].dirty)
                  "
                ></div>

                <div
                  *ngIf="signupForm.controls['lastName'].errors?.['required']"
                >
                  last name is required
                </div>
                <div
                  *ngIf="signupForm.controls['lastName'].errors?.['minlength']"
                >
                  last name must have at least 3 chars
                </div>
                <input
                  name="email"
                  placeholder="Your Email Address"
                  formControlName="email"
                  type="email"
                />
                <div
                  *ngIf="
                    signupForm.controls['email'].invalid &&
                    (signupForm.controls['email'].touched ||
                      signupForm.controls['email'].dirty)
                  "
                ></div>

                <div *ngIf="signupForm.controls['email'].errors?.['required']">
                  email is required
                </div>

                <div *ngIf="signupForm.controls['email'].errors?.['email']">
                  email must have "@"
                </div>
                <input
                  name="phone"
                  placeholder="phone"
                  required=""
                  type="number"
                  formControlName="phone"
                />
                <div
                  *ngIf="
                    signupForm.controls['phone'].invalid &&
                    (signupForm.controls['phone'].touched ||
                      signupForm.controls['phone'].dirty)
                  "
                ></div>

                <div *ngIf="signupForm.controls['phone'].errors?.['required']">
                  phone is required
                </div>
                <input
                  name="address"
                  placeholder="address"
                  required=""
                  type="tel"
                  formControlName="address"
                />
                <div
                  *ngIf="
                    signupForm.controls['address'].invalid &&
                    (signupForm.controls['address'].touched ||
                      signupForm.controls['address'].dirty)
                  "
                ></div>

                <div
                  *ngIf="signupForm.controls['address'].errors?.['required']"
                >
                  address is required
                </div>
                <input
                  name="password"
                  placeholder="password"
                  required=""
                  type="password"
                  formControlName="password"
                  (keyup)="matchPwd()"
                />
                <div
                  *ngIf="
                    signupForm.controls['password'].invalid &&
                    (signupForm.controls['password'].touched ||
                      signupForm.controls['password'].dirty)
                  "
                ></div>
                <div
                  *ngIf="signupForm.controls['password'].errors?.['required']"
                >
                  password is required
                </div>
                <div
                  *ngIf="signupForm.controls['password'].errors?.['minlength']"
                >
                  password must be at least 5 chars
                </div>
                <div
                  *ngIf="signupForm.controls['password'].errors?.['maxlength']"
                >
                  password must have 8 chars maximum
                </div>
                <input
                  name="confirm password"
                  placeholder="confirm password"
                  (keyup)="matchPwd()"
                  required=""
                  type="password"
                  formControlName="confirmPassword"
                />
                <div *ngIf="!test" style="color: red">
                  passwords does not matche
                </div>
                <div
                  *ngIf="signupForm.controls['confirmPassword'].errors?.['required']"
                >
                  password is required
                </div>
                <div class="form-group" *ngIf="path === '/register'">
                  <input
                    name="speciality"
                    placeholder="Speciality"
                    required=""
                    type="text"
                    formControlName="speciality"
                  />
                  <div
                    *ngIf="
                      signupForm.controls['speciality'].invalid &&
                      (signupForm.controls['speciality'].touched ||
                        signupForm.controls['speciality'].dirty)
                    "
                  ></div>

                  <div
                    *ngIf="signupForm.controls['speciality'].errors?.['required']"
                  >
                    speciality is required
                  </div>
                </div>
                <div class="form-group" *ngIf="path === '/register'">
                  <button
                    type="button"
                    (click)="filePickerr.click()"
                    class="btn btn-warning"
                  >
                    Select CV
                  </button>
                  <div style="visibility: hidden">
                    <input
                      (change)="onCvSelected($event)"
                      #filePickerr
                      type="file"
                      name="cv"
                    />
                  </div>
                  <div *ngIf="cvPreview">
                    <iframe
                      [src]="cvPreview | safeUrl"
                      width="400"
                      height="300"
                    ></iframe>
                  </div>
                </div>

                <div
                  class="form-group"
                  *ngIf="path === '/inscription' || path === '/register'"
                >
                  <button
                    type="button"
                    (click)="filePicker.click()"
                    class="btn btn-warning"
                  >
                    Select Image
                  </button>
                  <div style="visibility: hidden">
                    <input
                      (change)="onImageSelected($event)"
                      #filePicker
                      type="file"
                      name="img"
                    />
                  </div>
                  <div class="text-center">
                    <img [src]="imagePreview" width="200px" />
                  </div>
                </div>
                <div class="form-group" *ngIf="path === '/checkIn'">
                  <input
                    name="Child phone"
                    placeholder="Child phone "
                    required=""
                    type="number"
                    formControlName="childPhone"
                  />
                  <div
                    *ngIf="
                      signupForm.controls['childPhone'].invalid &&
                      (signupForm.controls['childPhone'].touched ||
                        signupForm.controls['childPhone'].dirty)
                    "
                  ></div>

                  <div
                    *ngIf="signupForm.controls['childPhone'].errors?.['required']"
                  >
                    Child Phone is required
                  </div>
                </div>
              </div>
              <div class="col-lg-12 text-center">
                <button class="primary-btn" (click)="signup()">Submit</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
